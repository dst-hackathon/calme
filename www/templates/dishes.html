<ion-view title="dishes">
    <ion-content padding="true" class="has-header">
        <form class="list">
            <div class="item item-divider">
              Input the dish
            </div>

            <label class="item item-input" name="dishName">
                <input type="text" placeholder="dish's name" ng-model="currentDish.name">
            </label>
            <label class="item item-input" name="dishPrice">
                <input type="number" placeholder="dish's price" ng-model="currentDish.price">
            </label>
        </form>

        <form class="list">
          <div class="item item-divider">
            Choose your friends
          </div>

          <li class="item item-checkbox" ng-repeat="person in people">
            <label class="checkbox">
              <input type="checkbox" ng-checked="isSelectedPerson(person)" ng-click="togglePerson($event, person)">
            </label>
            {{person.name}}
          </li>
        </form>

        <button class="button button-stable button-block " ng-click="addDish()">{{currentDish.new ? 'add' : 'update'}}</button>
        <a href="#/pay" class="button button-stable button-block ">next</a>
        <div>
            <p>
              <strong>Split the rest</strong>
              THB {{billTotal}}
            </p>
        </div>

        <div class="card" ng-repeat="dish in dishes">
          <div class="item item-divider item-icon-right" >
            <div class="icon">
            <span class="ion-edit" ng-click="editDish(dish)"></span>
            &nbsp;
            <span class="ion-close" ng-click="removeDish(dish)"></span>
          </div>
            {{dish.name}} / {{dish.price}}
          </div>
          <div class="item item-text-wrap">
            <div class="list">
              <a class="item item-icon-left" href="#" ng-repeat="person in dish.people">
                <i class="icon ion-person"></i>
                {{person.name}}
              </a>
            </div>
          </div>
        </div>
    </ion-content>
</ion-view>
