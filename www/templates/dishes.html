<ion-view title="Dishes" cache-view="false">
    <ion-content padding="true" class="has-header">
        <div>
            <p>
              <strong>Total Amount Left: </strong>
              <span class="totalAmount">{{billTotal | currency : '฿'}}</span>
            </p>
        </div>
        <form class="list">
            <div class="item item-divider">
              Enter a dish
            </div>

            <label class="item item-input" name="dishName">
                <i class="icon ion-pizza placeholder-icon"></i>
                <input type="text" placeholder=" Name" ng-model="currentDish.name"></input>
            </label>

            <label class="item item-input" name="dishPrice">
                <i class="icon ion-calculator placeholder-icon"></i>
                <input type="number" class="assertive" placeholder=" Price e.g. 100.00" ng-model="currentDish.price"></input>
            </label>
        </form>

        <form class="list">
          <div class="item item-divider">
            Share this dish with
          </div>

          <li class="item item-checkbox" ng-repeat="person in people">
            <label class="checkbox">
              <input type="checkbox" ng-checked="isSelectedPerson(person)" ng-click="togglePerson($event, person)">
            </label>
            {{person.name}}
          </li>
        </form>

        <button class="button button-balanced button-block ion-plus-circled" ng-click="addDish()"> {{currentDish.new ? 'Add' : 'Update'}}</button>

        <div class="card" ng-repeat="dish in dishes">
          <div class="item item-divider item-icon-right" >
            <div class="icon">
            <span class="ion-edit" ng-click="editDish(dish)"></span>
            &nbsp;
            <span class="ion-close" ng-click="removeDish(dish)"></span>
          </div>
            {{dish.name}}: {{dish.price | currency : '฿'}}
          </div>
          <div class="item item-text-wrap">
            <div class="list">
              <a class="item item-icon-left" href="#" ng-repeat="person in dish.people">
                <i class="icon ion-person"></i>
                {{person.name}}
              </a>
            </div>
          </div>
        </div>
        <a href="#" class="button button-energized button-block ion-chevron-right" ng-click="validateNext()"> Next</a>
    </ion-content>
</ion-view>
